
## Развертывание коммутируемой сети с резервными каналами  

### 	Топология
![](https://github.com/permakov/otus/blob/main/lab7/Schema.jpg)   

### 	Таблица адресации  

Устройство |	Интерфейс	| IP-адрес |	Маска подсети
---------- | ---------- | ------- |--------------
S1 |	VLAN 1 | 192.168.1.1 |	255.255.255.0
S2 |	VLAN 1 |	192.168.1.2	| 255.255.255.0
S3 |	VLAN 1 |	192.168.1.3 |	255.255.255.0

### Создание сети и настройка основных параметров устройства  
#### Настроил базовые параметры каждого коммутатора

#### Проверка связи  
Проверил способность компьютеров обмениваться эхо-запросами.  
Успешно выполняется эхо-запрос от коммутатора S1 на коммутатор S2  
![](https://github.com/permakov/otus/blob/main/lab7/ping_sw1_sw2.jpg)  

Успешно выполняется эхо-запрос от коммутатора S1 на коммутатор S3  
![](https://github.com/permakov/otus/blob/main/lab7/ping_sw1_sw3.jpg)  

Успешно ли выполняется эхо-запрос от коммутатора S2 на коммутатор S3  
![](https://github.com/permakov/otus/blob/main/lab7/ping_sw2_sw3.jpg)  

### Определение корневого моста

Отключил все порты.  
Настроил подключенные порты в качестве транковых.  
Включил порты Gi0/0 и Gi0/2 на всех коммутаторах.  
данные протокола spanning-tree:  
![](https://github.com/permakov/otus/blob/main/lab7/SW1_span_1.jpg)  
![](https://github.com/permakov/otus/blob/main/lab7/SW2_span_1.jpg)  
![](https://github.com/permakov/otus/blob/main/lab7/SW3_span_1.jpg)   

Схема состояния портов на коммутаторах:  
![](https://github.com/permakov/otus/blob/main/lab7/Shema_STP_ports.jpg)  


Какой коммутатор является корневым мостом?  
- коммутатор SW1  

Почему этот коммутатор был выбран протоколом spanning-tree в качестве корневого моста?  
- При равных приоритетаз всех коммутаторов, sw1 имеет минимальный mac адрес из всех присутствующих коммутаторв.  

Какие порты на коммутаторе являются корневыми портами?
- sw2: Gi0/0; SW3: Gi0/2  

Какие порты на коммутаторе являются назначенными портами?  
- SW1: Gi0/0, Gi0/2; sw2: Gi0/2   

Какой порт отображается в качестве альтернативного и в настоящее время заблокирован?  
- SW3: Gi0/0  

Почему протокол spanning-tree выбрал этот порт в качестве невыделенного (заблокированного) порта?  
- потому, что при причих равных порт на SW3 имеет меньший приоритет.  

### Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов  

Определил коммутатор с заблокированным портом:  
![](https://github.com/permakov/otus/blob/main/lab7/SW3_span_1.jpg)  

Изменил стоимость порта:  
![](https://github.com/permakov/otus/blob/main/lab7/SW3_span_2jpg)  

Bзменения протокола spanning-tree:

![](https://github.com/permakov/otus/blob/main/lab7/SW3_span_3.jpg)  











